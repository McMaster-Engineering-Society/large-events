import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  ActivityIndicator,\n  Alert,\n} from 'react-native';\nimport { WebView } from 'react-native-webview';\nimport { Ionicons } from '@expo/vector-icons';\n\ninterface TeamWidgetProps {\n  title: string;\n  teamName: string;\n  fallbackUrl: string;\n  color: string;\n  height?: number;\n}\n\nexport default function TeamWidget({\n  title,\n  teamName,\n  fallbackUrl,\n  color,\n  height = 200,\n}: TeamWidgetProps) {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  const handleError = () => {\n    setError(true);\n    setLoading(false);\n  };\n\n  const handleLoad = () => {\n    setLoading(false);\n    setError(false);\n  };\n\n  const openFullScreen = () => {\n    Alert.alert(\n      title,\n      'Would you like to open the full application?',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        { text: 'Open', onPress: () => console.log('Open full app') },\n      ]\n    );\n  };\n\n  if (error) {\n    return (\n      <View style={[styles.container, { borderLeftColor: color }]}>\n        <View style={styles.header}>\n          <Text style={styles.title}>{title}</Text>\n          <TouchableOpacity onPress={openFullScreen}>\n            <Ionicons name=\"open-outline\" size={20} color={color} />\n          </TouchableOpacity>\n        </View>\n        <View style={[styles.errorContainer, { height }]}>\n          <Ionicons name=\"warning-outline\" size={32} color=\"#ef4444\" />\n          <Text style={styles.errorText}>Unable to load widget</Text>\n          <TouchableOpacity\n            style={[styles.retryButton, { backgroundColor: color }]}\n            onPress={() => {\n              setError(false);\n              setLoading(true);\n            }}\n          >\n            <Text style={styles.retryText}>Retry</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  }\n\n  return (\n    <View style={[styles.container, { borderLeftColor: color }]}>\n      <View style={styles.header}>\n        <Text style={styles.title}>{title}</Text>\n        <TouchableOpacity onPress={openFullScreen}>\n          <Ionicons name=\"open-outline\" size={20} color={color} />\n        </TouchableOpacity>\n      </View>\n      \n      <View style={{ height, position: 'relative' }}>\n        {loading && (\n          <View style={styles.loadingContainer}>\n            <ActivityIndicator size=\"small\" color={color} />\n            <Text style={styles.loadingText}>Loading...</Text>\n          </View>\n        )}\n        \n        <WebView\n          source={{ uri: fallbackUrl }}\n          style={styles.webview}\n          onLoad={handleLoad}\n          onError={handleError}\n          onHttpError={handleError}\n          startInLoadingState={true}\n          scalesPageToFit={true}\n          javaScriptEnabled={true}\n          domStorageEnabled={true}\n          mixedContentMode={'compatibility'}\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'white',\n    borderRadius: 8,\n    borderLeftWidth: 4,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22,\n    elevation: 3,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e2e8f0',\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#1e293b',\n  },\n  webview: {\n    flex: 1,\n  },\n  loadingContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f8fafc',\n    zIndex: 1,\n  },\n  loadingText: {\n    marginTop: 8,\n    fontSize: 14,\n    color: '#64748b',\n  },\n  errorContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fef2f2',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 14,\n    color: '#ef4444',\n    marginTop: 8,\n    marginBottom: 16,\n  },\n  retryButton: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 6,\n  },\n  retryText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: '500',\n  },\n});",